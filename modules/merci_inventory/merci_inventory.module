<?php


/**
 * @file
 * Hooks and functions for MERCI Inventory
 */

/**
 * @file
 * Bulk export of objects generated by Bulk export module.
 */

/**
 * Implement hook_ctools_plugin_api().
 */
function merci_inventory_ctools_plugin_api($module, $api) {
  if ($module == 'field_group' && $api == 'field_group') {
    return array('version' => 1);
  }
}

/**
 * Implementation of hook_node_info().
 */
function merci_inventory_node_info() {
  return array(
    // Inventory nodes.
    'merci_inventory' => array(
      'name' => t('Inventory'),
      'module' => 'merci_inventory',
      'base' => 'node_content',
      'has_body' => TRUE,
      'description' => t("An Inventory node contains a simple list of other nodes."),
      'locked' => TRUE,
    ),
    // Inventory Master nodes.
    'merci_inventory_master' => array(
      'name' => t('Inventory Master'),
      'base' => 'node_content',
      'module' => 'merci_inventory',
      'has_body' => FALSE,
      'description' => t("Add additional CCK fields to the Inventory Master content type to synchronize to other MERCI managed content types."),
      'locked' => TRUE,
    ),
  );
}


/**
 * Implementation of hook_node_operations().
 */
/*
function merci_inventory_action_info() {
  return array(
    'merci_inventory_operations_update' => array(
      'type' => 'node',
      'label' => t('Confirm Selected Items Are Currently in Inventory'),
      'configurable' => FALSE,
    ),
  );
}
 */
/**
 * Callback function for adding items to new merci_inventory node.
 */
/*
function merci_inventory_operations_update($node, $context) {
  dpm($context);
  return;
  global $user;

  $account = user_load(array('uid' => $user->uid));

  // Construct the new node object.
  $node = new stdClass();

  $node->title = 'Inventory - ' . format_date(time(), $type = 'small');
  $node->type = 'merci_inventory';
  $node->created = time();
  $node->changed = $node->created;
  $node->status = 1; // Published?
  $node->promote = 0; // Display on front page?
  $node->sticky = 0; // Display top of page?
  $node->format = 1; // Filtered HTML?
  $node->uid = $account->uid; //  Content owner uid (author)?
  $node->language = 'en';

  $count = 0;
  foreach ($nodes as $nid) {
    $node->field_merci_inventory_item[$count]['nid']  = $nid;
    $count++;
  }

  //node_submit($node);
  node_save($node);
}
 */

/**
 * Implementation of hook_views_api().
 */
/*
function merci_inventory_views_api() {
  return array(
    'api' => 3,
    'path' => drupal_get_path('module', 'merci_inventory'),
  );
}
 */

